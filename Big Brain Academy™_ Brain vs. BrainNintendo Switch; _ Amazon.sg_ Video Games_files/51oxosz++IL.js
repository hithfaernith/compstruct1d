(function(A){var D=window.AmazonUIPageJS||window.P,G=D._namespace||D.attributeErrors,c=G?G("DPTwisterPlusDesktopConfiguratorAssets",""):D;c.guardFatal?c.guardFatal(A)(c,window):c.execute(function(){A(c,window)})})(function(A,D,G){A.when("A","desktop-configurator-view","desktop-configurator-widgets-factory","desktop-configurator-slot-manager","twister-dynamic-style","desktop-configurator-logger","desktop-configurator-dimension-handler","desktop-configurator-side-sheet-view","desktop-configurator-popover-factory",
"twister-js-init-dpx-data","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-view-initialiser",function(c,m,q,n,e,p,w,x,y,k){(k?k.inlineTwisterData||{}:{}).inlineTwisterEnabled&&(p=new p,new m(k,q.Row,n,e,p,w,x,y),c.trigger("desktop-configurator-view-initialized"))});"use strict";A.when("A").register("desktop-configurator-dimension-handler",function(c){function m(c){this.numberOfDimensionsExpandedOnLanding=c.numberOfDimensionsExpanded||0;this.expandAllDimensions=-1===
this.numberOfDimensionsExpandedOnLanding;this.dimensionKeyRowMap={};this.expandedDimensionList=[];this.maxNumberOfDimensionsExpanded=c.maxNumberOfDimensionsExpanded||1}m.prototype={registerDimension:function(c,n){this.dimensionKeyRowMap[c]=n;(this.expandAllDimensions||this.expandedDimensionList.length<this.numberOfDimensionsExpandedOnLanding)&&this.expandedDimensionList.push(c)},init:function(){-1===this.maxNumberOfDimensionsExpanded&&(this.maxNumberOfDimensionsExpanded=Object.keys(this.dimensionKeyRowMap).length)},
expandDimension:function(c){-1===this.expandedDimensionList.indexOf(c)&&this.expandedDimensionList.push(c);if(this.maxNumberOfDimensionsExpanded<this.expandedDimensionList.length)for(var n=0;n<this.expandedDimensionList.length&&(this.expandedDimensionList[n]!==c&&this.dimensionKeyRowMap[this.expandedDimensionList[n]].collapse(),this.maxNumberOfDimensionsExpanded!==this.expandedDimensionList.length);n++);},collapseDimension:function(c){c=this.expandedDimensionList.indexOf(c);-1!==c&&this.expandedDimensionList.splice(c,
1)}};return m});"use strict";A.when("A","desktop-configurator-constants","3p-promise").register("desktop-configurator-view",function(c,m,q){var n=c.$;return function(e,p,w,x,y,k,v,B){function t(){"function"===typeof D.markFeatureInteractive&&D.markFeatureInteractive("twister",{hasComponents:!0,components:[{name:"twister-desktopConfigurator"}]})}function f(){if(!F)return 0===e.unselectedDimCount;var a=r();return!!F.util.getAsinFromSelectionInfo(a)}function b(a,b,d,g,l,f,r,u,c,t,e,k){return{text:a,
image:b||"",popoverImage:d||"",name:g,id:e+"_"+g,selected:l,slotHtm:f,showSlot:r,isVisible:u,unavailable:c,defaultSlotUnavailable:V,isCirclularImageSwatch:h.inlineTwisterData&&"CIRCLE"===h.inlineTwisterData.swatchShape,asin:t,pageUrl:k}}function a(a){Q[a]||null===I[a]||(a=h.rows[a],a.toggleSwatch&&a.toggleSwatch.removeMisplacedSwatch())}function g(a,b){var d=R.unselectedDimensionPrompt||"",g=e&&e.variationDisplayLabels?e.variationDisplayLabels[a]:"",l=e&&e.variationValues?e.variationValues[a][b]:
"";return{dimKey:a,titleSelectorPrefix:"inline-twister-dim-title-",titleValueSelector:"inline-twister-dim-title-value",mainText:g,subText:-1!==b?l:d.replace("###dimension",g||"")}}function r(){if(!F){var a=[];c.each(h.dimList,function(b){a.push({dimKey:b,val:e.selectedVariationValues?e.selectedVariationValues[b]:-1})});return a}return F.state()}function l(){return c.map(h.dimList,function(a,b){if(!h.isSingletonMap[a])return new q(function(g){d(h.rows[a],a,b);g()})})}function d(a,d,g){var l=h.inlineTwisterData.slotsEnabledDimensions,
r=!!((h.dimList.length===l.length?l[g]:l[0])&&f(d));g=e.variationValues[d];var u=a.getInitialVisibleSwatchList(),t=[];c.each(g,function(a,g){a=b(a,W[d+"::"+g],X[d+"::"+g],g,h.initSelectionState[d].val===g,u[g]?u[g].slotHtm:"",r,u[g]&&u[g].isVisible,u[g]&&u[g].unavailable,G,d,N[d]?N[d][a]:null);t.push(a)});h.swatches[d]=t}function u(){c.each(h.rows,function(a){h.isSingletonMap[a.dimKey]||(a.createDisplaySwatches(),a.adjustSwatchWidthAndSpacing(),h.textSwatchMap[a.dimKey]&&a.toggleSwatch.alignTextSwatches())})}
function z(){function d(a,g,l){var f,u,r,t=a.expanderContent.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)"),w=e.variationValues[g]||[],k=h.inlineTwisterData.inlineVariationsSize,z=-1,n=k,E=[],p=null;-1===k&&(z=parseInt(a.expanderContent.attr("data-swatchCountPerRow"))||t.length,n=z*M[g]);c.each(t,function(d,h){var c=parseInt(d.getAttribute("data-idxInToggleSwatchList")),t="true"===d.getAttribute("data-initiallySelected"),e="true"===d.getAttribute("data-initiallyUnavailable");
f=d.getAttribute("data-asin");u=c;r=w[c]||"";var m,q,v;m=W[g+"::"+u];q=X[g+"::"+u];v=r;e=b(v,m,q,u,t,"",l,!0,e,f,g,N[g]?N[g][v]:null);a.toggleSwatch&&(m=a.toggleSwatch.createSwatch(e,d),e.isVisible=m.isVisible);E.push(e);t&&h>=n&&(I[g]=c);-1!==k&&-1===z&&(d=d.getBoundingClientRect().top,null===p?p=d:d!==p&&(z=h))});-1!==k&&(-1===z&&(z=t.length),M[g]=Math.ceil(t.length/z));h.inlineVariationsSize[g]=t.length;a.toggleSwatch&&a.toggleSwatch.setNumberOfSwatchesPerRow(z);return E}function l(a,d,g){var b=
!(!a||!f(d)),u=h.rows[d].getInitialVisibleSwatchList();b&&c.each(u,function(b){if(!b.unavailable){var l=B.updateIfCurrentlyActive.bind(B,b.id),l=h.slotManager.get(b.asin,d,h.noOfLoadingIndicator,!1,K,l,g);b.updateSlotNode({showSlot:a,slotHtm:l},!1,d)}})}function u(a,d,g){a={dimIndex:h.dimIndexMap[a],dimValueIndex:d};d=m.DP_STATE_VIEW_SUBTYPE;var b=h.dimensionsMap,l;l=r();for(var f=m.CHAR_UNDERSCORE,c=[],t=0;t<h.dimensionsMap.length;t++){var e=l[t].val;-1===e&&(e=m.CHAR_ASTERISK);c.push(String(e))}l=
f?c.join(f):c;return{divMetadata:a,eventType:g,subType:d,dimensionsMap:b,currDimCombId:l}}var k=r(),w=0,z={},q=h.inlineTwisterData.slotsEnabledDimensions,v=h.inlineTwisterData.popoverSlotsEnabledDimensions;n.each(k,function(a,d){z[d.dimKey]=d;h.dimIndexMap[d.dimKey]=a;h.dimensionsMap[a]=d.dimKey});h.initSelectionState=z;n.each(h.dimList,function(a,d){var b=z[d].val;a=E(d);var b=g(d,b),f=!(!S&&(h.dimList.length===q.length?q[w]:q[0])),u=-1!==T.indexOf(d);h.textSwatchMap[d]=a;a=new p("inline-twister-row-",
b,{showSlot:!1,dimKey:d,inlineTwisterData:h.inlineTwisterData},{handleDimensionExpansion:function(a,b,g){d=a.dimKey;if(g){h.dimensionHandler.expandDimension(d);a=G;g={};U[d]?(g=O(h.swatches[d],b,d,r(),!1,!u,f,!!h.dimensionsExpandedInline[d]),h.indexTranslationMap[d]=g,a={swatches:h.swatches[d]}):(l(b,d,f),U[d]=!0);var c=h.rows[d];c.setState(a,g,J,null,!1);L(b,c,d);h.logger.logDimensionExpanded(d);u||(I[d]=null)}else h.dimensionHandler.collapseDimension(d),h.logger.logDimensionCollapsed(d)}},h.logger);
h.rows[d]=a;w+=1});0===h.inlineTwisterData.numberOfDimensionsExpanded&&(t(),Z=!0);w=0;n.each(h.dimList,function(g,b){function l(a,d,g){if(d){var f=parseInt(d.buttonName,10),c=a[f]&&a[f].id?a[f].id:"";b=d.buttonGroupName;a[f]&&a[f].selected&&h.logger.logSelectedSwatchClick();c&&B.exists(c)&&B.hide(c);J=b;a={dimKey:b,val:f};h.twister.metaData(u(b,f,m.viewEvents.CLICK));h.twister.dimensionChanged(a);h.logger.logDimensionValueClick();g&&h.logger.logDimValueClickAfterAutoUpdate()}}function t(a,d){var b=
d.data,g=d.type;d=d.$currentTarget;var l=b.id,c=!!f(a),c=K&&c&&y,c=b.showImageInPopOver||c,e=!y,k=[];if(b){if(g===m.viewEvents.MOUSE_ENTER){var z=parseInt(b.name,10);k.push({dimKey:a,val:z});c&&B.show(l,d,b,e)}else c&&B.hide(l),k=r();F&&(h.twister.metaData(u(a,z,g)),h.twister.dimensionPeek(k));J=a}}function k(a,d){var b=parseInt(a.buttonName,10),g=h.swatches[d];(g?g[b]:G)?(C.setUserInteracting(!0),c.delay(function(){l(g,a)},350),h.logger.logSecViewSwatchClick()):A.log("Selected swatch not found on side sheet toggle button click. Value clicked: "+
b+" ; Swatch length: "+h.swatches[d].length,aa.ERROR,aa.ATTRIBUTION)}function z(a,d){h.isSideSheetOpen=d;h.isWindowResizedAfterSideSheetOpen&&!d&&n.each(h.dimList,function(a,d){h.textSwatchMap[d]&&(Y(d),(a=h.rows[d])&&a.toggleSwatch&&(a.toggleSwatch.alignTextSwatches(),a.toggleSwatch.preserveNaturalSwatchOrder&&a.toggleSwatch.alignTextSwatchNodesInLastRow()))});h.isWindowResizedAfterSideSheetOpen=!1}function E(d,b,g){var l=R.desktopConfiguratorAllOptionsString||"",f=h.swatches[d].length,u={dimensionDisplayText:g.mainText,
displayValueText:g.subText,dimKey:d,getSwatchInfo:C.getSwatch.bind(C),destroyPopover:B.destroy,optionsText:l,totalValueCount:f,isTextSwatch:x};h.sideSheet.open(u);var t={swatches:h.swatches[d]};c.delay(function(){var g=O(h.swatches[d],b,d,r(),!0,!1,P,!1);D&&a(d);C.setState(t,g,J,null,!0,!0);h.sideSheet.update(u);Q[d]=!0;c.delay(function(){x&&L(b,C,d,!0);x&&C.toggleSwatch&&f<m.TEXT_ALIGNMENT_LIMIT&&C.toggleSwatch.alignTextSwatches(!1,!0)})},1E3);h.isSideSheetOpen=!0;h.isWindowResizedAfterSideSheetOpen=
!1;h.logger.logSeeAllLinkClick("Dimension"+(h.dimIndexMap[d]+1))}function p(d,b,g){var l=C.expanderContent.height();C.setMaxHeight(l);var f={swatches:h.swatches[d]};if(g)g=(ba-M[d]+1)*l,l=O(h.swatches[d],b,d,r(),!1,!1,P,!0),D&&a(d),C.setState(f,l,J,null,!1,!0),C.triggerExpandOrCollapseAnimation(g,500),L(b,C,d),x&&C.toggleSwatch&&C.toggleSwatch.alignTextSwatches(!0),h.dimensionsExpandedInline[d]=!0,Q[d]=!0,h.logger.logSeeAllLinkClick("Dimension"+(h.dimIndexMap[d]+1));else{g=l;b=C.getDisplaySwatches();
for(l=M[d];l<b.length;l++){for(var u=!1,c=G,t=0;t<b[l].length;t++)if(c=b[l][t]?b[l][t].domNode:null){var e=parseInt(c.attr("data-idxInToggleSwatchList"),10),e=f.swatches[e];e.selected&&(u=!0);e.isVisible=e.selected}!u&&c&&(g-=c[0].scrollHeight)}C.triggerExpandOrCollapseAnimation(g,250,function(){C.setState(f,{},J,null,!1)});h.dimensionsExpandedInline[d]=!1}}function Y(d){F&&(h.isWindowResizedAfterSideSheetOpen=!0,h.isSideSheetOpen||(L(h.showSlotMap[d],h.rows[d],d,!1),h.sideSheet.refreshWidth()))}
var x=h.textSwatchMap[b];g=[];var H=!S&&(h.dimList.length===q.length?q[w]:q[0]),y=h.dimList.length===v.length?v[w]:v[0],P=!H,K=H||y,D=-1!==T.indexOf(b),C=h.rows[b];h.showSlotMap[b]=K;M[b]=h.inlineTwisterData.numOfRowsPerDimension;H=-1!==e.singletonDimensionKeys.indexOf(b);h.isSingletonMap[b]=H;w+=1;!H&&C&&(H=!(!K||!f(b)),I[b]=null,g={name:b,swatches:g,isTextSwatch:x,onChange:l,onHover:t,hideSlotsFromMainView:P,totalSwatchCount:(e.variationValues[b]||[]).length,preserveNaturalSwatchOrder:D},h.sideSheet.registerToggleButtonGroup(b,
k,z),C.initializeComponents(g,K,{showSideSheet:E,toggleInlineExpansion:p,handleWindowResize:Y}),h.dimensionHandler.registerDimension(b,C),g=d(C,b,H),h.swatches[b]=g)});Z||t()}function E(d){var a=!0;(h.inlineTwisterData.disableImageSwatch===G?0:h.inlineTwisterData.disableImageSwatch)||(a=!h.inlineTwisterData.imageDimensionKeysMap[d]);return a}function O(d,b,g,l,u,r,t,e){var k=!(!b||!f(g));b=F.util.getDimAvailability(g,l);var z=-1!==T.indexOf(g),w={},E=0,p=B.updateIfCurrentlyActive,m=-1;n.each(l,function(d,
a){a.dimKey===g&&(m=a.val)});-1!==m&&(r&&(w[m]=E),E++);var q=h.rows[g];c.each(b.available,function(b){d[b.index]=d[b.index]||{};var l=d[b.index];l.unavailable=!1;l.selected&&(m=b.index,l.isVisible||(null!==I[g]&&d[I[g]]&&(d[I[g]].isVisible=!1,z&&a(g)),I[g]=b.index),l.isVisible=!0);r&&(l.isVisible=E<h.inlineVariationsSize[g]||l.selected);e&&(l.isVisible=!0);var f=l.isVisible||u,n=u?l.id+"_sec":l.id;k&&f?l.slotHtm=h.slotManager.get(b.asin,g,h.noOfLoadingIndicator,u,K,p.bind(B,n),t):(l.slotHtm=l.slotHtm||
"",p(n,l.slotHtm));(u||e)&&q&&q.toggleSwatch&&(f=q.toggleSwatch.getSwatch(b.index),c.objectIsEmpty(f)&&(w[b.index]=E));r&&m!==b.index&&(w[b.index]=E);l.showSlot=k;l.selected||E++});c.each(b.unavailable,function(a){d[a.index]=d[a.index]||{};var b=d[a.index];b.unavailable=!0;r&&(b.isVisible=E<h.inlineVariationsSize[g]);e&&(b.isVisible=!0);b.slotHtm=k?V:"";r&&(w[a.index]=E);b.showSlot=k;E++});U[g]=!0;z&&(w={});return w}function L(d,a,b,g){var l=h.textSwatchMap[b];d&&l&&(!g||h.isSideSheetOpen)&&(h.slotManager.resetMinSlotHeight(b),
d=a.toggleSwatch.getSlotNodes(g),H(d,b,g),h.slotManager.updateSlotHeight(b,g))}function H(d,a,b){h.slotManager.resetSlotHeight(a,b);c.each(d,function(d,b){c.each(d,function(d){h.slotManager.setState(d,a,b)})})}function K(d,a){a&&!h.isSideSheetOpen||L(!0,h.rows[d],d,a)}var h=this,F=G;this.isWindowResizedAfterSideSheetOpen=!1;this.data=e;this.noOfLoadingIndicator=1;this.dimList=e.reorderedDimensionListKeys||[];this.dimensionsMap=[];this.dimensionsExpandedInline={};this.logger=y;this.inlineTwisterData=
e?e.inlineTwisterData||{}:{};this.swatches={};this.sideSheet=new v;var I={},R=this.inlineTwisterData&&this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap:{},V='\x3cspan class\x3d"a-size-small default-slot-unavailable"\x3e'+(R.defaultSlotUnavailableString||"")+"\x3c/span\x3e",W=e.imageHashMap||{},X=e.desktopConfiguratorPopoverImageMap||{},N=e.dimensionPageLoadUrls||{},M={},S=!!e.isAssemblyVariationsEnabled;this.rows={};this.dimensionHandler=new k(h.inlineTwisterData);
this.isSingletonMap={};this.indexTranslationMap={};this.textSwatchMap={};var J,aa=m.loggingConstants,ba=m.MAX_INLINE_ROWS;this.initSelectionState={};B.setVisibleSlotConfig(this.inlineTwisterData&&this.inlineTwisterData.desktopConfiguratorSlotsInPopover?this.inlineTwisterData.desktopConfiguratorSlotsInPopover:[]);this.inlineVariationsSize={};this.dimIndexMap={};this.isSideSheetOpen=!1;this.showSlotMap={};var T=h.inlineTwisterData.dimsWithSwatchReorderingDisabled||[],Q={},U={},Z=!1;(function(){var d=
h.logger.createFunctionTimerInstance("desktopConfiguratorInitTime");d.start();z();d.stop()})();c.on("register-desktop-configurator-with-twisterCore",function(d,a){F=d;h.logger.registerTwisterCore(F);h.sideSheet.init(h.logger);d=r();var b=h.inlineTwisterData.slotsEnabledDimensions,f=h.inlineTwisterData.popoverSlotsEnabledDimensions,t={};n.each(d,function(d,a){t[a.dimKey]=a});F.slotsDimSum.addDefaultQueryParameter("showFancyPrice",h.inlineTwisterData.showFancyPrice);F.slotsDimSum.addDefaultQueryParameter("twisterFlavor",
m.DESKTOP_CONFIGURATOR_FLAVOR);h.slotManager=new w(F,x,h.logger,h.inlineTwisterData);h.dimensionHandler.init();var e=0;c.each(h.rows,function(d){if(!h.isSingletonMap[d.dimKey]){d.postInitialize();var a=d.dimKey,l=t[a].val,u=E(a),r=h.dimList.length===f.length?f[e]:f[0],k=!S&&(h.dimList.length===b.length?b[e]:b[0]),z=!k,w=k||r;h.twister=F.registerActive({viewAttribution:"DetailPage",viewName:"DesktopConfiguratorRowView_"+a},{updateView:function(b,f){var r,t={},e;if("VARIATION_CHANGE"===b){r=f.selected().selectionInfo();
n.each(r,function(d,a){t[a.dimKey]=a});e=t[a].val;b=h.swatches[a];b[e]=b[e]||{};b[l]=b[l]||{};b[l].selected=!1;b[e].selected=!0;f=g(a,l);l===e||u||d.setThumbnailImage(b[e].image);l=e;O(b,w,a,r,!1,!1,z,!!h.dimensionsExpandedInline[a]);r=g(a,e);e={swatches:b};var k=c.filter(b,function(d){return d.isVisible});b.length!==k.length||d.isInlineExpanded||(d.hideInlineExpansionLink(),h.inlineVariationsSize[a]=b.length);d.setExpanderHeaderAriaLabel(f,r);d.setState(e,{},J,r,!1);L(w,d,a)}else"VARIATION_PEEK"===
b&&(r=f.peek().selectionInfo(),n.each(r,function(d,a){t[a.dimKey]=a}),e=t[a].val,r=g(a,e),J===a&&d.title.setState(r),h.sideSheet.activeDimKey===a&&h.sideSheet.updateDimVal(r))}});h.isSingletonMap[a]||d.handleSeeMoreIngress((h.swatches[a]||[]).length)}e++});q.all(l()).then(function(){u()});c.trigger("desktop-configurator-twisterCore-initialized",h);a.then(function(){c.each(h.rows,function(d){d.activatePageRefresh()})})})}});"use strict";A.when("A").register("desktop-configurator-constants",function(c){return{AJAX_CALL_TIMEOUT:2E4,
DIMENSION_VALUE:"DimensionValue###",DISPLAY_VALUE:"DisplayValue###",SWATCH_DATA:"SwatchData###",DESKTOP_CONFIGURATOR_FLAVOR:"twisterPlusDesktopConfigurator",MAX_DIMENSION_FLAVOUR_CAP:3,POPOVER_DELAY:500,MAX_INLINE_ROWS:7,SIDE_SHEET_ANIMATION_SPEED:300,SIDE_SHEET_PADDING:48,TEXT_SWATCH_MARGIN_RIGHT:6,CONFIGURED_SLOTS:["price","ms3","twisterPrimeWardrobe","twisterAvailability","deliveryPromise"],DP_STATE_VIEW_SUBTYPE:"DETAILPAGE_STATE_VIEW_METADATA",CHAR_UNDERSCORE:"_",CHAR_ASTERISK:"*",DEFAULT_SCROLLER_WIDTH:20,
BORDER_WIDTH:2,TEXT_ALIGNMENT_LIMIT:400,viewEvents:{MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CLICK:"click"},sideSheetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",SEC_VIEW_DIMENSION_VALUE_LIST:" #tp-inline-twister-dim-values-container",DIMENSION_VALUES_LIST:" .dimension-values-list",DIMENSION_VALUES_LIST_ODD_CHILD:" .dimension-values-list \x3e :nth-child(odd)",DIMENSION_VALUES_LIST_EVEN_CHILD:" .dimension-values-list \x3e :nth-child(even)",LIST_ITEM_CIRCULAR_IMAGE:".dimension-value-list-item-circular-image",
CIRCULAR_IMAGE_SWATCH_BUTTON:".circle-image-swatch-button",LIST_ITEM_SQUARE_IMAGE:".dimension-value-list-item-square-image",SQUARE_IMAGE_SWATCH_BUTTON:".image-swatch-button",TEXT_LIST_ITEM:".swatch-list-item-text",TEXT_SWATCH_BUTTON:".text-swatch-button",TEXT_SWATCH_BUTTON_WITH_SLOTS:".text-swatch-button-with-slots",IMAGE_SELECTOR:".swatch-image",SEC_VIEW_TOGGLE_BUTTON_PREFIX:"sec_",DELAY:200},widgetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",EXPANDER_HEADER_PREFIX:"#inline-twister-expander-header-",
DIMENSION_EXPANDER_ICON_PREFIX:"#dimension-expander-icon-",DIMENSION_EXPANDER_ICON_WRAPPER:".dimension-expander-icon-wrapper",EXPANDED_DIMENSION_TEXT_PREFIX:"#inline-twister-expanded-dimension-text-",COLLAPSED_DIMENSION_TEXT_PREFIX:"#inline-twister-collapsed-dimension-text-",AUTO_NOTIFICATION_EXPANDED:"#inline-twister-auto-notification-expanded",AUTO_NOTIFICATION_COLLAPSED:"#inline-twister-auto-notification-collapsed",IMAGE_THUMBNAIL:".dimension-collapsed-image-thumbnail",SWATCH_NODE_SELECTOR:".inline-twister-swatch",
SLOT_NODE_SELECTOR:".dimension-slot-info",TOGGLE_BUTTON_SELECTOR:".a-button-toggle",IMAGE_SELECTOR:".swatch-image",DIMENSION_VALUES_LIST:".dimension-values-list"},classes:{A_COLOR_ATTAINABLE:"a-color-attainable",AOK_HIDDEN:"aok-hidden",DIMENSION_EXPANDER_CONTENT_EXPAND:"dimension-expander-content-expand",ROTATE:"rotate",A_BUTTON_UNAVAILABLE:"a-button-unavailable",A_BUTTON_SELECTED:"a-button-selected",A_BUTTON_FOCUS:"a-button-focus",ROW_IDENTIFIER_PREFIX:"desktop-configurator-dim-row-"},cssConstants:{BG_COLOR:"background-color",
GREEN_BG_COLOR:"#D9EED9",WHITE_BG_COLOR:"white"},loggingConstants:{ATTRIBUTION:"TwisterPlusDesktopConfigurator",ERROR:"ERROR"}}});"use strict";A.when("A").register("desktop-configurator-logger",function(c){function m(){if(!(this instanceof m))return new m;e||(e=this);return e}function q(c){if("undefined"!==typeof D.csa){var e=D.csa("Events",{producerId:"dp-rpcx"}),m=p.count(c)||0;e("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:c,valueToLog:m},{ent:"all"})}}var n=c.$,e,p=D.ue;m.prototype={registerTwisterCore:function(c){this.twisterCore=
c},logCSMDataOnLanding:function(){var c=0,e=0,m=0,k=this.twisterCore.util,v=k.tvm.dimensionInfo,B=this.twisterCore.state().length,t=Object.keys(k.tvm.dimCombinations).length;n.each(v,function(f,b){f=b.dimKey;k.isRequiredDim(f)&&m++;k.isSingletonDim(f)?e++:c++});p&&p.count&&(p.count("dpMobileTwisterDropdownPresent",c),q("dpMobileTwisterDropdownPresent"),p.count("dpMbileTwisterSingletonDim",e),q("dpMbileTwisterSingletonDim"),p.count("dpMobileTwisterRequiredDim",m),q("dpMobileTwisterRequiredDim"),p.count("dpMobileTwisterDimSize",
B),q("dpMobileTwisterDimSize"),p.count("dpMobileTwisterFamilySize",t),q("dpMobileTwisterFamilySize"),p.count("twisterPlus.inlineTwisterGV",1),q("twisterPlus.inlineTwisterGV"))},logCSMTagsOnLanding:function(e){function m(a,d,b){var g=[];if(d===b)g.push(""),a=a[d],c.$.isArray(a)?c.each(a,function(d,a){g.push(d)}):g.push(a);else{var f=Math.floor((d+b)/2);d=m.call(this,a,d,f);var r=m.call(this,a,f+1,b);c.each(d,function(d,a){c.each(r,function(a,b){g.push(""===d?a:""===a?d:d+":"+a)})})}return g}function n(a){a&&
p.push(a)}var k=this,p=[],q=!0,t=!0,f=[0,3,8,25,50,100,1E3,5E3],b=Object.keys(this.twisterCore.util.tvm.dimCombinations).length,a,g;e.dimensionList&&(a="variation_dimension:"+e.dimensionList.length,c.each(e.dimensionList,function(a,d){k.addCSMTag(a)}));for(var r=1;r<f.length;r++)if(b<=f[r]){g="family_size_bucket:"+f[r-1]+"-"+f[r];break}else r===f.length-1&&(g="family_size_bucket:gt"+f[r]);e.dimensionInfo&&c.each(e.dimensionInfo,function(a,d){a.isSingleton||(q=!1)});f=q?"SingletonFamily":"DesktopConfigurator";
e.initDimCombination&&c.each(e.initDimCombination,function(a,d){-1===a.val&&(t=!1)});n(a);n(g);n(f);t&&n("defaultSelection");e=m.call(this,p,0,p.length-1);(function(a){var d=this;c.each(a,function(a,b){a&&d.addCSMTag(a)})}).call(this,e)},createFunctionTimerInstance:function(c){var e=this;return{eventType:c,start:function(){this.startTime=Date.now()},stop:function(){this.startTime&&e.logCounter(this.eventType,Date.now()-this.startTime)}}},addCSMTag:function(c){D.ue&&D.ue.tag&&D.ue.tag(c)},logCounter:function(c,
e){p&&p.count&&(e===G?p.count(c,(p.count(c)||0)+1):p.count(c,e),q(c))},logBottomSheetPageUpdate:function(c){this.logCounter("twisterPlus.inlineTwisterPageUpdate")},logSelectedSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.selectedSwatchClick")},logDimensionValueClick:function(){this.logCounter("dpmobiletwisterclickOndimval")},logSecViewTotalCount:function(c){this.logCounter("twisterPlus.inlineTwister.secondaryViewCount."+c)},logSecViewGV:function(c){this.logCounter("twisterPlus.inlineTwister.secondaryViewGV."+
c)},logSecViewClosed:function(c){this.logCounter("twisterPlus.inlineTwister.secondaryViewClosed."+c)},logDimensionCollapsed:function(c){this.logCounter("twisterPlus.inlineTwister.dimCollapse."+c)},logDimensionExpanded:function(c){this.logCounter("twisterPlus.inlineTwister.dimExpand."+c)},logSecViewSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.secViewSwatchClick")},logDimExpansionAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimExpansionAfterAutoUpdate")},
logDimValueClickAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimValueClickAfterAutoUpdate")},logAvailabilitySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.availabilitySlotRender")},logPPUSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.ppuSlotRender")},logPrimeSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.primeSlotRender")},logPriceSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.priceSlotRender")},logDeliverySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.deliverySlotRender")},
logReviewsSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.reviewsSlotRender")},logSeeAllLinkClick:function(c){this.logCounter("twisterPlus.inlineTwister.seeAllLinkClick."+c)}};return m});"use strict";A.when("A").register("twister-dynamic-style",function(c){function m(c,m){this.name=c;this.styleNode;this.rules=m||[];this.pendingRefresh}var q=c.$,n={};m.prototype={refresh:function(){var c=q("\x3cdiv /\x3e",{html:"\x26shy;\x3cstyle\x3e"+this.rules.join(" ")+"\x3c/style\x3e"});this.styleNode?
(this.styleNode.replaceWith(c),delete this.styleNode,this.styleNode=c):(this.styleNode=c,this.styleNode.appendTo("body"))}};return{addCSSRules:function(c,p){n[c]?n[c].rules=p||[]:n[c]=new m(c,p);n[c].refresh()}}});"use strict";A.when("A","desktop-configurator-constants","desktop-configurator-twister-register").register("desktop-configurator-slot-manager",function(c,m,q){function n(c,f,b,a){this.twisterCore=c;this.batch={};this.currentBatch;this.maxSlotHeight={};this.minSlotHeight={};this.dynamicStyle=
f;this.slotIdentifierMap={};this.logger=b;this.auiPriceSize=a&&a.auiPriceSize?a.auiPriceSize:"m";this.currentlyUnavailableMessage=a&&a.stringTranslationMap?a.stringTranslationMap.currentlyUnavailableMessage:"";this.desktopConfiguratorSlotsInMainView=a&&a.desktopConfiguratorSlotsInMainView?a.desktopConfiguratorSlotsInMainView:[]}function e(e,f,b,a,g){var r=this.batch,l=this;r[e]=r[e]||[];r[e].push(b);clearTimeout(this.currentBatch);this.currentBatch=setTimeout(function(){var d=c.map(l.batch,function(a,
d){return d});l.twisterCore.slotsDimSum.get(d,function(d){var b=l.batch[d.ASIN];b&&(v.each(b,function(a,b){b(d)}),delete l.batch[d.ASIN]);k(l.batch)&&(b=Object.keys(l.maxSlotHeight),c.each(b,function(d){a(d,g&&d===f)}))})},0)}function p(c,f,b,a){b[f]=b[f]||{};b[f].uniqueCount=b[f].uniqueCount||0;var g="inline-twister-dimsum-loading-"+f+"-"+b[f].uniqueCount;b[f].uniqueCount+=1;return{loadingHtm:'\x3cdiv class\x3d"'+g+(c?" loading-indicator-1":"")+(a?" aok-hidden":"")+'"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',
promise:function(a,b){var d=v("."+g+":not(.loading-indicator-in-popover)").parent();d.length&&(d.html(a),b(d))}}}function w(c){return c.replace(/\n/g,"").replace(/[\t ]+\</g,"\x3c").replace(/\>[\t ]+\</g,"\x3e\x3c").replace(/\>[\t ]+$/g,"\x3e")}function x(c,f,b){return w(B.default.call(this,c.content.twisterSlotDiv,f,b))}function y(c,f){if(!c||0===c.length)return f;if(0<c.find(".loading-indicator-1").length)return c[0].scrollHeight;if(0===c.find(".defaultSlotUnavailable").length)return f;c=c[0].scrollHeight;
f<c&&(f=c);return f}function k(c){for(var f in c)if(c.hasOwnProperty(f))return!1;return!0}var v=c.$,B={default:function(c,f,b){c=v("\x3cdiv\x3e"+c+"\x3c/div\x3e");var a=c.find(".price_slot_ppu"),g=c.find("#ms3slot"),r=c.find("#twisterAvailability"),l=c.find("#deliveryPromisePrefix"),d=c.find(".variationReviewsSection"),u=b?[]:this.desktopConfiguratorSlotsInMainView,e=c.find(".twister_swatch_price");r.length&&((e.length||b)&&-1===u.indexOf("twisterAvailability")&&r.parent().addClass("aok-hidden"),
r.parent().append("\x3cdiv class\x3d'js-dummy-twister-availability'\x3e\x3c/div\x3e"),r.parent().find(".a-size-medium").removeClass("a-size-medium").addClass("a-size-small"),r.parent().find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-small"),r.parent().find(".a-size-large").removeClass("a-size-large").addClass("a-size-small"),f&&this.logger.logAvailabilitySlotRender());0<e.length?(-1===u.indexOf("price")&&e.addClass("aok-hidden"),e.addClass("inline-twister-swatch-price"),b=c.find(".a-price"),
0<b.length?b[0].dataset&&(b[0].dataset.aSize=this.auiPriceSize):(e.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base").addClass("a-color-base"),e.find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-base").addClass("a-color-base"),e.find(".a-size-large").removeClass("a-size-large").addClass("a-size-base").addClass("a-color-base")),b="a-size-small",e.find(".olpWrapper").removeClass("a-size-mini a-size-micro a-size-medium a-size-large a-size-base a-color-base").addClass(b),
a.length&&(b="twister-plus-inline-twister-ppu a-size-micro",a.removeClass("a-size-mini a-size-small a-size-medium a-size-large a-size-base a-color-base").addClass(b),f&&this.logger.logPPUSlotRender()),f&&this.logger.logPriceSlotRender()):(e=c.find("#sndbox-mobile-twister-price"),0<e.length&&f&&this.logger.logPriceSlotRender());g.length&&(-1===u.indexOf("ms3")&&g.addClass("aok-hidden"),f&&this.logger.logPrimeSlotRender());0<l.length&&(l.removeClass("a-size-small a-color-secondary").addClass("a-color-base a-size-base"),
-1===u.indexOf("deliveryPromise")&&l.parent().addClass("aok-hidden"),l.find("br").remove(),a=l.find("b"),0===a.length&&(a=l.find("span")),a.length&&(g=" "+w(a.text()),a.addClass("aok-hidden"),l.append("\x3cspan\x3e"+g+"\x3c/span\x3e")),f&&this.logger.logDeliverySlotRender());0<d.length&&(d.removeClass("a-spacing-micro a-spacing-top-micro").addClass("a-spacing-none a-spacing-top-none"),-1===u.indexOf("variationReviews")&&d.addClass("aok-hidden"),f&&this.logger.logReviewsSlotRender());q.executeModifiers(c);
return c.html()}};n.prototype={get:function(c,f,b,a,g,r,l){var d=this,u=this.twisterCore.slotsDimSum.get([c]);if(u[c])return x.call(d,u[c].Value,!1,l);var k=p(b,f,d.slotIdentifierMap,l);e.call(this,c,f,function(a){k.promise(x.call(d,a.Value,!0,l),r)},g,a);return k.loadingHtm},setState:function(c,f,b){this.minSlotHeight[f]||(this.minSlotHeight[f]=[]);this.maxSlotHeight[f]||(this.maxSlotHeight[f]=[]);this.minSlotHeight[f][b]=this.minSlotHeight[f][b]||0;this.minSlotHeight[f][b]=y(c,this.minSlotHeight[f][b]);
this.maxSlotHeight[f][b]=this.maxSlotHeight[f][b]||0;var a=this.maxSlotHeight[f];var g=this.maxSlotHeight[f][b];!c||0===c.length||0<c.find(".loading-indicator-1").length||(c=c[0].scrollHeight,g<c&&(g=c));a[b]=g;this.maxSlotHeight[f][b]=this.maxSlotHeight[f][b]>this.minSlotHeight[f][b]?this.maxSlotHeight[f][b]:this.minSlotHeight[f][b]},updateSlotHeight:function(e,f){var b=[],a;c.each(this.maxSlotHeight[e],function(g,c){f?(b.push("#desktop-configurator-side-sheet #"+e+"dim_list .desktop-configurator-dim-row-"+
c+" .dimension-slot-info {height: "+g+"px;}"),a="twister-plus-desktop-configurator-side-sheet-slot-height-"):(b.push("#inline-twister-expander-content-"+e+" .desktop-configurator-dim-row-"+c+" .dimension-slot-info {height: "+g+"px;}"),a="twister-plus-desktop-configurator-slot-height-")});this.dynamicStyle.addCSSRules(a+e,b)},resetMinSlotHeight:function(e){this.minSlotHeight[e]||(this.minSlotHeight[e]=[]);this.minSlotHeight[e]=c.map(this.minSlotHeight[e],function(){return 0})},resetSlotHeight:function(e,
f){this.maxSlotHeight[e]||(this.maxSlotHeight[e]=[]);this.dynamicStyle.addCSSRules((f?"twister-plus-desktop-configurator-side-sheet-slot-height-":"twister-plus-desktop-configurator-slot-height-")+e,[]);this.maxSlotHeight[e]=c.map(this.maxSlotHeight[e],function(){return 0})}};return n});"use strict";A.when("A","desktop-configurator-constants","detail-page-side-sheet").register("desktop-configurator-side-sheet-view",function(c,m,q){function n(){this.sideSheetData=this.activeDimKey=null;this.swatchList=
[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null;this.updateSideSheetStatus={}}function e(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null}function p(f,b){c.each(f,function(a){var g="desktop-configurator-swatch-hover:"+b+"_sec";try{c.declarative.remove(a,g),c.declarative.create(a,g,{})}catch(f){A.log("Hover event subscribe failed with error: "+this.name,t.ERROR,t.ATTRIBUTION)}})}
function w(f){f=Array.prototype.slice.call(f);var b=v(f[0]).find("input");f=v(f[f.length-1]).find("input");this.keyDownEventHandler=y.bind(this,b,f);document&&document.addEventListener("keydown",this.keyDownEventHandler);c.delay(function(){b&&b.focus()})}function x(){if(this.mainViewDimContainer){var c=this.mainViewDimContainer.parent().find(".tp-side-sheet-link-container a")[0];document&&document.removeEventListener("keydown",this.keyDownEventHandler);c&&c.focus()}}function y(c,b,a){a.code&&"tab"===
a.code.toLowerCase()&&(a.shiftKey?document&&document.activeElement===c[0]&&(a.preventDefault(),b.focus()):document&&document.activeElement===b[0]&&(a.preventDefault(),c.focus()))}function k(c){var b=v("#desktop-configurator-side-sheet-content-header").clone();b.removeClass("aok-hidden");b.find(".dim-name").text(c.dimensionDisplayText+":");b.find(".dim-value").text(c.displayValueText);var a=c.optionsText;a&&b.find(".dim-options").text(a.replace("###options",c.totalValueCount));return b}var v=c.$,B=
m.sideSheetSelectors,t=m.loggingConstants;n.prototype={init:function(f){var b=this,a=v("#twister-plus-inline-twister-container");0!==a.length&&(a=a[0].getBoundingClientRect().width,this.scrollbarWidth=this.getScrollbarWidth(),this.sideSheet=new q({id:"desktop-configurator-side-sheet",shouldRenderHTMLString:!0,animationDuration:m.SIDE_SHEET_ANIMATION_SPEED,width:a+m.SIDE_SHEET_PADDING+b.scrollbarWidth,onAfterHide:function(){f.logSecViewClosed(b.activeDimKey);c.each(b.swatchList,function(a){var f=parseInt(a.getAttribute("data-idxInToggleSwatchList"),
10),f=b.sideSheetData.getSwatchInfo(f);c.declarative.remove(a,"desktop-configurator-swatch-hover:"+b.activeDimKey+"_sec");b.sideSheetData.destroyPopover(f.id+"_sec")});x.call(b);b.updateSideSheetStatus[b.activeDimKey]&&b.updateSideSheetStatus[b.activeDimKey](b.activeDimKey,!1);e.call(b)}}))},open:function(f){this.activeDimKey=f.dimKey;this.sideSheetData=f;var b=v("#inline-twister-row-"+f.dimKey+" #tp-inline-twister-dim-values-container"),a=b.find(".desktop-configurator-dim-row-0"),g=v("#side-sheet-loader-container").clone().removeClass("aok-hidden"),
e=g.find(".loader-container"),l=g.find("#side-sheet-loader").clone().removeClass("aok-hidden"),d;if(f.isTextSwatch)b=a.width()-m.BORDER_WIDTH,d=a.height()-m.BORDER_WIDTH;else{var u=b.find(".inline-twister-swatch").not(".aok-hidden").not(".swatch-prototype");d=a.find(".swatch-image-container");b=d.outerWidth();d=d.outerHeight();u=Math.abs((u.width()-a.find(".swatch-image-container").outerWidth())/2)-m.BORDER_WIDTH;l.css("margin-right",u+"px");l.css("margin-left",u+"px")}l.width(b);l.height(d);c.each(a,
function(){e.append(l.clone().addClass("side-sheet-loader-1"))});a=e.clone();a.find(".side-sheet-loader-1").removeClass("side-sheet-loader-1").addClass("side-sheet-loader-2");g.append(a);f=k(f);g.prepend(f);this.sideSheet.open(g[0].outerHTML)},update:function(c){this.mainViewDimContainer=v("#inline-twister-row-"+c.dimKey+" #tp-inline-twister-dim-values-container");var b=this.mainViewDimContainer.clone(),a=b.find(B.DIMENSION_VALUES_LIST);a.attr("id",c.dimKey+"dim_list");var g=k(c);b.prepend(g);a.children().slice(1).removeClass("aok-hidden");
a.attr("data-a-button-group",'{"name":"sec_'+c.dimKey+'"}');this.sideSheet.updateContent(b[0].outerHTML);c=this.sideSheet.container;this.swatchList=c.find(B.DIMENSION_VALUES_LIST).children().slice(1);p(this.swatchList,this.activeDimKey);this.dimValContainer=c.find(".desktop-configurator-side-sheet-content-header .dim-value");w.call(this,this.swatchList)},close:function(){this.sideSheet.close()},registerToggleButtonGroup:function(f,b,a){var g=B.SEC_VIEW_TOGGLE_BUTTON_PREFIX+f,e=this;this.updateSideSheetStatus[f]=
a;c.on("a:button-group:"+g+":toggle",function(a){e.sideSheet.close();a.selectedButton.buttonGroupName=f;b(a.selectedButton,f)})},updateDimVal:function(c){this.dimValContainer&&this.dimValContainer.length&&this.dimValContainer.text(c.subText)},refreshWidth:function(){var c=v("#twister-plus-inline-twister-container")[0].getBoundingClientRect().width+this.scrollbarWidth;this.sideSheet.updateWidth(c+m.SIDE_SHEET_PADDING)},getScrollbarWidth:function(){if(this.scrollbarWidth)return this.scrollbarWidth;
var c=document.body?D.innerWidth-document.body.clientWidth:-1;0>c&&(c=m.DEFAULT_SCROLLER_WIDTH);return c}};return n});"use strict";A.when("A","a-popover","desktop-configurator-constants").register("desktop-configurator-popover-factory",function(c,m,q){function n(a){var d=y("\x3cdiv /\x3e"),b=y("\x3cspan /\x3e"),c=a.title,g=a.showImageInPopOver,f=!a.hideSlots;d.addClass("desktop-configurator-popover-content");b.addClass("desktop-configurator-title-block a-size-base a-color-base a-text-bold");b.text(c);
d.append(b);g&&(b=y("\x3cdiv /\x3e"),g=y("\x3cimg /\x3e"),g.attr("src",a.image),g.attr("data-a-image-source",a.image),g.attr("alt",c),b.append(g),d.addClass("visual-dimension"),b.addClass("desktop-configurator-image-block"),d.prepend(b));f&&e(d,a.slotNode);return d}function e(a,d){d="string"===typeof d?d:d.clone();var b=y("\x3cdiv /\x3e");a.find(".desktop-configurator-slot-block").remove();b.addClass("desktop-configurator-slot-block");b.html(d);p(b);a.append(b)}function p(b){var d=b.find(".price_slot_ppu"),
f=b.find("#ms3slot"),e=b.find(".twister_swatch_price"),k=b.find("#twisterAvailability"),m=b.find("#deliveryPromisePrefix"),n=b.find(".variationReviewsSection"),p=b.find(".default-slot-unavailable"),q=b.find(".loading-indicator-1");b=b.find(".twisterPrimeWardrobe");var h={variationReviews:n,price:e,ms3:f,twisterAvailability:k.parent(),deliveryPromise:m.parent(),ppu:d,twisterPrimeWardrobe:b};q.length&&(q.addClass("loading-indicator-in-popover"),0===a.length?q.addClass("aok-hidden"):q.removeClass("aok-hidden"));
c.each(g,function(d){h[d]&&(-1===a.indexOf(d)?h[d].addClass("aok-hidden"):(h[d].removeClass("aok-hidden"),d=r[d+"_styleSlot"],"function"===typeof d&&d.call(this,h)))});p.length&&p.removeClass("a-size-small").addClass("a-size-base")}function w(a,d,b,g){b=n({slotNode:b.slotNode,title:b.title,showImageInPopOver:b.showImageInPopOver,image:b.image,hideSlots:g});d=m.create(d,{name:a,inlineContent:b,closeButton:!1,padding:"none",activate:"none",restoreFocusOnHide:!1});k[a]=d;v[a]||(c.on("a:popover:afterShow:"+
a,function(a){c.delay(function(){y(t.DIMENSION_VALUES_LIST).removeClass("stop-scrolling-dc")})}),v[a]=!0);return d}function x(a,d,b){if(a=k[a])d=n({slotNode:d.slotNode,title:d.title,showImageInPopOver:d.showImageInPopOver,image:d.image,hideSlots:b}),a.update({content:d});return a}var y=c.$,k={},v={},B=q.POPOVER_DELAY,t=q.sideSheetSelectors,f=null,b=null,a=[],g=q.CONFIGURED_SLOTS,r={price_styleSlot:function(a){var d=a.ms3,b=a.ppu;a=a.price;a.length&&(a.find(".a-size-base").removeClass("a-size-base").addClass("a-size-large"),
b.length&&b.removeClass("a-size-micro").addClass("a-size-small"),d.length&&(b=a.find(".twisterSwatchPrice"),b.length&&b.after(d),d.after("\x3cbr /\x3e")))},ms3_styleSlot:function(a){a=a.ms3;a.length&&a.find(".a-icon-mini").removeClass("a-icon-mini").addClass("a-icon-small")},twisterAvailability_styleSlot:function(a){a=a.twisterAvailability;a.length&&a.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base")}};return{show:function(a,d,g,e){f=this.exists(a)?x.call(this,a,g,e):w.call(this,
a,d,g,e);clearTimeout(b);var r=this;b=c.delay(function(){y(t.DIMENSION_VALUES_LIST).addClass("stop-scrolling-dc");f&&f.show();r.updateIfCurrentlyActive(a,g.slotNode)},B)},exists:function(a){return!!k[a]},hide:function(a){(a=k[a])&&a.hide();f=null;clearTimeout(b)},updateIfCurrentlyActive:function(a,d){f&&f.$container&&f.attributes.name===a&&(a=f.$container.find(".desktop-configurator-popover-content"),e(a,d))},destroy:function(a){k[a]&&m.remove(a);delete k[a];clearTimeout(b)},setVisibleSlotConfig:function(b){a=
b}}});"use strict";A.when("A").register("desktop-configurator-twister-register",function(){var c=[];return{registerModifier:function(m){c.push(m)},executeModifiers:function(m){c.forEach(function(c){c.modify&&"function"===typeof c.modify&&c.modify(m)})}}});"use strict";A.when("A","desktop-configurator-constants").register("desktop-configurator-widgets-factory",function(c,m){var q=c.$,n=m.widgetSelectors,e=m.classes,p=m.cssConstants,w=m.loggingConstants,x=function(){function e(){var b=q(n.IMAGE_THUMBNAIL).attr("src");
return b&&b.length&&(b=b.split("."),2<b.length)?b[b.length-2]:!1}function f(b,a,g,c){c=c&&0<c.length?c:b.find(".a-button");a&&!g?(c.addClass("text-swatch-button-with-slots").removeClass("text-swatch-button"),b.find("hr").show(),b.find("hr").removeClass("aok-hidden")):(c.removeClass("text-swatch-button-with-slots").addClass("text-swatch-button"),b.find("hr").hide(),b.find("hr").addClass("aok-hidden"))}return{alignTextSwatches:function(b,a,g){var e=0,f,d;c.each(b,function(b){b.domNode&&(b.isVisible||
a||g)&&(f=b.domNode.attr("data-idxInToggleSwatchList"),d=g?q("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+f+"]"):b.domNode,b=d.find(".swatch-title-text-display"),b.length&&b[0].style.removeProperty("height"),b=b?b.height():0,e<b&&(e=b))});c.each(b,function(b){b.domNode&&(b.isVisible||a||g)&&(f=b.domNode.attr("data-idxInToggleSwatchList"),d=g?q("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+f+"]"):b.domNode,d.find(".swatch-title-text-display").height(e))})},
createSwatch:function(b,a,c,e,l,d,k){var m=!a.unavailable,n=a.isVisible,p=a.selected,q=a.showSlot,t=a.slotHtm;c="#"+c;if(d.length)return d=d.clone(),d.removeClass("swatch-prototype"),l&&d.addClass("slots-hidden"),d.attr("data-idxInToggleSwatchList",e),e=d.find(c).attr("id",a.id),d.find(c+"-announce").attr("id",a.id+"-announce"),d.find("input").attr({name:a.name,"aria-labelledby":a.id+"-announce"}),d.find("text"===b?".swatch-title-text-display":"square_image"===b?".swatch-title-text":".swatch-text").text(a.text),
m||e.addClass("a-button-unavailable"),p&&e.addClass("a-button-selected"),"text"!==b&&(p=d.find(".swatch-image"),p.addClass("inline-twister-manual-load"),p.attr({"data-a-image-source":a.image||"",id:"inline-twister-image-"+a.name,alt:a.text})),p=d.find(".dimension-slot-info"),p.length&&(p.attr("id","dimension-slot-info-"+a.name),q?m?0<t.length&&p.html(t):p.html(a.defaultSlotUnavailable):d.find("text"===b?".slots-padding":".dimension-slot-info").addClass("aok-hidden"),"text"===b&&f(d,q,l,e)),k.append(d),
n||d.addClass("aok-hidden"),d},getThumbnailImageUrlForPhysicalId:function(b){return b&&b.length&&(b=b.split("."),2<b.length)?(b.splice(-2,1,e()),b.join(".")):!1},updateSlotSectionInTextSwatch:f}}(),y=function(k){function f(b,a,c,e,f,d,u,m){this.id=b.id;this.unavailable=!!b.unavailable;this.selected=!!b.selected;this.showSlot=b.showSlot;this.slotHtm=b.slotHtm;this.isImageSwatch=!a;this.asin=b.asin;this.pageUrl=b.pageUrl;this.hideSlotsFromMainView=f;var p=a?"text":b.isCirclularImageSwatch?"circular_image":
"square_image";this.domNode=m?q(m):k.createSwatch(p,b,c,e,f,d,u);this.isVisible=b.isVisible;this.imageUrl=b.image;this.popoverImage=b.popoverImage;this.isSlotVisible=!0;this.slotNodeIdentifier=a?".slots-padding":".dimension-slot-info";this.title=b.text;this.name=b.name;this.subscribeToHoverEvent(c)}f.prototype={setState:function(b,a,c,e){this.selected=!!b.selected;this.updateAvailablity(b);this.updateSlotNode(b,a,c);this.updateVisibility(b);this.updateSwatchIndexInDomNode(e);return this},getSlotNode:function(b){this.slotNode||
(this.slotNode=this.domNode.find(n.SLOT_NODE_SELECTOR));if(!b)return this.slotNode;b=this.slotNode?this.slotNode.attr("id"):"";return q("#desktop-configurator-side-sheet").find("#"+b)},updateSlotNode:function(b,a,c){this.slotNode||(this.slotNode=this.domNode.find(n.SLOT_NODE_SELECTOR));this.showSlot!==b.showSlot&&((this.showSlot=b.showSlot)?this.domNode.find(this.slotNodeIdentifier).removeClass("aok-hidden"):this.domNode.find(this.slotNodeIdentifier).addClass("aok-hidden"),this.isImageSwatch||k.updateSlotSectionInTextSwatch(this.domNode,
this.showSlot,this.hideSlotsFromMainView));this.slotHtm!==b.slotHtm&&(a&&q("#tp-inline-twister-sec-view-"+c+" #"+this.slotNode.attr("id")).html(b.slotHtm),this.slotNode.html(b.slotHtm),this.slotHtm=b.slotHtm)},updateAvailablity:function(b){this.toggleButton||(this.toggleButton=this.domNode.find(n.TOGGLE_BUTTON_SELECTOR));(this.unavailable=b.unavailable)?this.toggleButton.addClass(e.A_BUTTON_UNAVAILABLE):this.toggleButton.removeClass(e.A_BUTTON_UNAVAILABLE)},updateSelection:function(){this.toggleButton||
(this.toggleButton=this.domNode.find(n.TOGGLE_BUTTON_SELECTOR));this.selected?(this.toggleButton.addClass(e.A_BUTTON_SELECTED),this.toggleButton.removeClass(e.A_BUTTON_UNAVAILABLE)):(this.toggleButton.removeClass(e.A_BUTTON_SELECTED),this.toggleButton.removeClass(e.A_BUTTON_FOCUS))},updateVisibility:function(b){b.isVisible?this.domNode.removeClass(e.AOK_HIDDEN):this.domNode.addClass(e.AOK_HIDDEN);this.isVisible=b.isVisible},subscribeToHoverEvent:function(b){b="desktop-configurator-swatch-hover:"+
b;try{c.declarative.remove(this.domNode,b),c.declarative.create(this.domNode,b,{})}catch(a){A.log("Hover event subscribe failed with error: "+this.name,w.ERROR,w.ATTRIBUTION)}},updateSwatchIndexInDomNode:function(b){this.domNode&&this.domNode.attr("data-idxInToggleSwatchList",b)},getTopPosition:function(){var b=this.domNode.position();return this.topPosition=b?b.top:0}};return f}(x),k=function(k,f){function b(a,b,e,f){var d=this;this.isTextSwatch=a.isTextSwatch;this.name=a.name;this.domNode=q(n.EXPANDER_CONTENT_PREFIX+
a.name);this.title=f;this.selectedSwatch=null;this.swatches={};this.orderedSwatchList=[];this.initialVisibleSwatchList={};this.swatchIdxOrder=[];this.isPageRefreshActive=!1;this.totalSwatchCount=a.totalSwatchCount||0;this.onChange=a.onChange;this.hoverHandler=a.onHover;this.isUserInteracting=!1;this.autoNotificationCallback=b.autoNotificationCallback;this.rowContainer=e;this.swatchListContainer=this.domNode.find(n.DIMENSION_VALUES_LIST);this.markAutoUpdated=!1;this.hideSlotsFromMainView=a.hideSlotsFromMainView;
this.windowResizeCallback=b.windowResizeCallback;this.preserveNaturalSwatchOrder=a.preserveNaturalSwatchOrder;this.displaySwatches=[];this.numberOfSwatchesPerRow=0;this.swatchPrototypeNode=q("#"+a.name).closest(n.SWATCH_NODE_SELECTOR);this.swatchPrototypeNodeParent=this.swatchPrototypeNode.parent();c.on("a:button-group:"+this.name+":toggle",function(a){var b=parseInt(a.selectedButton.buttonName,10),c=d.swatches[b];c?d.isPageRefreshActive?(d.isUserInteracting=!0,b=c.unavailable,c.updateSelection(),
d.autoNotificationCallback&&d.autoNotificationCallback(b,!0),d.onChange&&d.onChange(d.swatches,a.selectedButton,d.markAutoUpdated),d.setAutoUpdated(!1)):c.pageUrl&&(D.location.href=c.pageUrl):(a="Selected swatch not found on toggle button click. Value clicked: "+b+" ; Swatch length: "+Object.keys(d.swatches).length,A.log(a,w.ERROR,w.ATTRIBUTION))});this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+a.name);this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+a.name+"_sec",
!0);if(this.isTextSwatch)c.on("resize",function(){0<d.displaySwatches.length&&(d.repopulateDisplaySwatches(),d.alignTextSwatches(),d.preserveNaturalSwatchOrder&&d.alignTextSwatchNodesInLastRow(),"function"===typeof d.windowResizeCallback&&d.windowResizeCallback(d.name))})}b.prototype={setState:function(a,b,e,l){var d=this,k,m=[],p=[],n=[];c.objectIsEmpty(b)||(c.each(b,function(b,c){if(!d.swatches[c]&&(a.swatches[c].isVisible||e)){var g=new f(a.swatches[c],d.isTextSwatch,d.name,c,d.hideSlotsFromMainView,
d.swatchPrototypeNode,d.swatchPrototypeNodeParent);g.subscribeToHoverEvent(d.name);d.swatches[c]=g;!d.isTextSwatch&&d.swatches[c]&&d.swatches[c].domNode&&n.push(d.swatches[c].domNode.find(".inline-twister-manual-load")[0])}p[b]=c}),this.swatchIdxOrder=p,l||(this.resetToggleSwatchContainer(),this.displaySwatches=[]),c.each(this.swatchIdxOrder,function(a,b){if(a=d.swatches[a])a&&d.swatchListContainer.append(a.domNode),a&&a.subscribeToHoverEvent(d.name),d.addToDisplaySwatches(a,d.displaySwatches)}));
c.each(a.swatches,function(a,b){if(d.swatches[b])k=a.selected?d.swatches[b]:k,d.swatches[b].selected=!!a.selected,m.push({index:b,data:a});else{if(a.isVisible||e)d.swatches[b]=new f(a,d.isTextSwatch,d.name,b,d.hideSlotsFromMainView,d.swatchPrototypeNode,d.swatchPrototypeNodeParent),d.swatches[b].subscribeToHoverEvent(d.name),d.addToDisplaySwatches(d.swatches[b],d.displaySwatches),!d.isTextSwatch&&d.swatches[b]&&d.swatches[b].domNode&&n.push(d.swatches[b].domNode.find(".inline-twister-manual-load")[0]);
a.selected&&(k=d.swatches[b])}});this.selectedSwatch&&this.selectedSwatch.updateSelection();k&&k.updateSelection();c.each(m,function(a,b){d.swatches[a.index].setState(a.data,e,d.name,a.index)});this.isTextSwatch&&(c.objectIsEmpty(b)?this.preserveNaturalSwatchOrder&&this.alignTextSwatchNodesInLastRow():this.alignTextSwatches());d.selectedSwatch&&k&&d.selectedSwatch!==k&&!d.isUserInteracting&&d.autoNotificationCallback(!0);d.selectedSwatch=k;d.isUserInteracting=!1;n.length&&c.loadImageManually(n);return this},
getSlotNodes:function(a){return c.map(this.displaySwatches,function(b){return c.map(b,function(b){return b.getSlotNode(a)})})},setUserInteracting:function(a){this.isUserInteracting=a},alignTextSwatches:function(a,b){c.each(this.displaySwatches,function(c){k.alignTextSwatches(c,a,b)})},alignTextSwatchNodesInLastRow:function(){var a=this.domNode.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)");if(1<a.length){var b=a[a.length-1],e=a[a.length-2];b&&e&&b.getBoundingClientRect().top===
e.getBoundingClientRect().top&&(a=c.map(a.slice(a.length-(a.length%this.numberOfSwatchesPerRow||this.numberOfSwatchesPerRow),a.length),function(a){return this.swatches[a.getAttribute("data-idxInToggleSwatchList")]},this),k.alignTextSwatches(a))}},resetToggleSwatchContainer:function(){var a=q(this.domNode.find(".a-button-list").children()[0]);this.swatchListContainer.html("");this.swatchListContainer.append(a)},getVisibleSwatchesSize:function(){var a=0;c.each(this.swatches,function(b,c){b.isVisible&&
(a+=1)});return a},setAutoUpdated:function(a){this.markAutoUpdated=a},getInitialVisibleSwatchList:function(){return this.initialVisibleSwatchList},getNumberOfSwatchesPerRow:function(){return this.numberOfSwatchesPerRow},setNumberOfSwatchesPerRow:function(a){a&&(this.numberOfSwatchesPerRow=a)},createSwatch:function(a,b){b=new f(a,this.isTextSwatch,this.name,a.name,this.hideSlotsFromMainView,this.swatchPrototypeNode,this.swatchPrototypeNodeParent,b);this.swatches[a.name]=b;this.initialVisibleSwatchList[a.name]=
b;this.selectedSwatch=a.selected?b:this.selectedSwatch;this.orderedSwatchList.push(b);return b},activatePageRefresh:function(){this.isPageRefreshActive=!0;this.domNode.find(".page-load-link").remove()},getSwatch:function(a){return this.swatches[a]?this.swatches[a]:{}},registerHoverDeclarative:function(a,b){var e=this;c.declarative(a,"mouseenter mouseleave",function(a){var d=a.$currentTarget[0].getAttribute("data-idxInToggleSwatchList"),d=e.getSwatch(d);a.data={slotNode:a.$currentTarget.find(d.slotNodeIdentifier),
showImageInPopOver:d.isImageSwatch&&!!d.popoverImage,unavailable:d.unavailable,showSlot:d.showSlot,selected:d.selected,title:d.title,name:d.name,id:b?d.id+"_sec":d.id,image:d.popoverImage};e.hoverHandler(e.name,a)})},addToDisplaySwatches:function(a,b){var c=e.ROW_IDENTIFIER_PREFIX;if(0===b.length)b.push([a]);else{var f=b[b.length-1];f&&f.length===this.numberOfSwatchesPerRow?b.push([a]):f.push(a)}this.removeSwatchRowIdentifier(a);a.domNode&&a.domNode.addClass(c+(b.length-1).toString())},adjustSwatchWidthAndSpacing:function(){var a=
this.getNumberOfSwatchesPerRow();if(this.totalSwatchCount>a){var b=this.displaySwatches[0][0].domNode,a=this.domNode.find(".a-button"),c=this.domNode[0].getBoundingClientRect().width-1,b=b.width(),e=this.getNumberOfSwatchesPerRow(),c=c-(b*e+(this.isTextSwatch?m.TEXT_SWATCH_MARGIN_RIGHT:0)*e);0<c&&(c=parseFloat(c/e),a.width(b+c))}},repopulateDisplaySwatches:function(){if(0!==this.displaySwatches.length){var a=[],b=0,f,l=this;c.each(this.displaySwatches,function(d,k){c.each(d,function(d,c){0===a.length?
a.push([d]):0===b?(f=a[0][a[0].length-1],d.getTopPosition()!==f.getTopPosition()?(b=a[0].length,l.numberOfSwatchesPerRow=b,l.addToDisplaySwatches(d,a)):(a[0].push(d),l.removeSwatchRowIdentifier(d),d.domNode&&d.domNode.addClass(e.ROW_IDENTIFIER_PREFIX+(0).toString()))):l.addToDisplaySwatches(d,a)})});0===b&&(this.numberOfSwatchesPerRow=b=a[0].length);this.displaySwatches=a}},removeSwatchRowIdentifier:function(a){a.domNode&&a.domNode.removeClass(function(a,b){return(b.match(/(^|\s)desktop-configurator-dim-row-\S+/g)||
[]).join(" ")})},createDisplaySwatches:function(){var a=this;c.each(this.orderedSwatchList,function(b){a.addToDisplaySwatches(b,a.displaySwatches)})},removeMisplacedSwatch:function(){var a=this.displaySwatches[this.displaySwatches.length-1],b=a[a.length-1],c=b.name;b.domNode&&b.domNode.remove();delete this.swatches[c];this.selectedSwatch&&this.selectedSwatch.name===c&&(this.selectedSwatch=null);1<a.length?a.pop():this.displaySwatches.pop()},removeInitiallyHiddenSwatches:function(){for(var a=this.domNode.find(".inline-twister-swatch.aok-hidden:not(.swatch-prototype)"),
b=a.length-1;0<=b;b--){var c=a[b];c.parentNode.removeChild(c)}}};return b}(x,y),v=function(e){function f(b){this.mainText=b.mainText;this.subText=b.subText;this.dimKey=b.dimKey;this.titleSelectorPrefix=b.titleSelectorPrefix;this.titleValueSelector=b.titleValueSelector;this.domNode=q("#"+this.titleSelectorPrefix+this.dimKey)}f.prototype={refresh:function(){this.domNode.find("."+this.titleValueSelector).text(this.subText);this.domNode.removeClass("twister-plus-inline-twister-dim-required twister-plus-inline-twister-dim-required-delay")},
setState:function(b){return c.equals(b,q.extend({},this))?this:(q.extend(this,b),this.refresh())},getData:function(){return{mainText:this.mainText,subText:this.subText}}};return f}(x),B=function(k,f,b){function a(b,a,k,d,m){function t(){w=w||v.domNode.find(".dimension-heading");w.css(p.BG_COLOR,p.GREEN_BG_COLOR);c.delay(function(){c.animate(w,{"background-color":p.WHITE_BG_COLOR},200)},1E3)}var v=this;this.disableCollapseFunctionality=k.inlineTwisterData?k.inlineTwisterData.disableCollapseFunctionality:
!1;this.stringTranslationMap=k.inlineTwisterData?k.inlineTwisterData.stringTranslationMap:{};this.title=a?new f(a):null;this.dimKey=k.dimKey;this.domNode=q("#"+b+this.dimKey);this.showSlot=k.showSlot;this.logger=m;this.isTwisterCoreInitialized=this.isInlineExpanded=this.markAutoUpdated=!1;this.expanderContent=v.domNode.find(n.EXPANDER_CONTENT_PREFIX+this.dimKey);this.expanderHeader=v.domNode.find(n.EXPANDER_HEADER_PREFIX+this.dimKey);this.icon=v.domNode.find(n.DIMENSION_EXPANDER_ICON_PREFIX+this.dimKey);
this.expandedText=v.domNode.find(n.EXPANDED_DIMENSION_TEXT_PREFIX+this.dimKey);this.collapsedText=v.domNode.find(n.COLLAPSED_DIMENSION_TEXT_PREFIX+this.dimKey);this.rowCallbacks=d;this.autoNotificationExpanded=v.domNode.find(n.AUTO_NOTIFICATION_EXPANDED);this.autoNotificationExpandedText=v.autoNotificationExpanded.text();this.imageThumbnail=v.domNode.find(n.IMAGE_THUMBNAIL);this.sideSheetLink=this.domNode.find(".tp-side-sheet-link-container");this.inlineExpansionLink=this.domNode.find(".tp-inline-expansion-link");
this.isExpanded=this.expanderContent.hasClass("dimension-expander-content-expand");var w;this.autoNotificationCallback=function(a,b){var d=v.autoNotificationExpandedText;a?v.isExpanded&&b?(v.autoNotificationExpanded.find("."+e.A_COLOR_ATTAINABLE).html(d),v.autoNotificationExpanded.removeClass(e.AOK_HIDDEN)):(t(),v.setAutoUpdated(!0)):v.hideAutoNotification()};this.disableCollapseFunctionality||c.declarative("toggle-dimension-expander-"+this.dimKey,"click",function(a){v.isExpanded?v.collapse():v.expand();
v.hideAutoNotification()})}a.prototype={setState:function(a,b,c,d,f,k){this.toggleSwatch&&c!==this.dimKey&&this.autoNotificationExpanded.addClass(e.AOK_HIDDEN);a&&this.toggleSwatch&&this.toggleSwatch.setState(a,b,f,k);f||d&&this.title&&this.title.setState(d)},expand:function(){this.expanderContent&&this.expanderContent.css("visibility","");this.expanderContent&&this.expanderContent.addClass(e.DIMENSION_EXPANDER_CONTENT_EXPAND);this.icon&&this.icon.addClass(e.ROTATE);this.expandedText&&this.expandedText.removeClass(e.AOK_HIDDEN);
this.collapsedText&&this.collapsedText.addClass(e.AOK_HIDDEN);this.imageThumbnail.addClass(e.AOK_HIDDEN);this.isExpanded=!0;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),
a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToCollapse:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(n.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}this.markAutoUpdated&&(this.logger.logDimExpansionAfterAutoUpdate(),this.markAutoUpdated=!1)},collapse:function(){this.expanderContent&&this.expanderContent.removeClass(e.DIMENSION_EXPANDER_CONTENT_EXPAND);this.expanderContent&&this.expanderContent.css("visibility","hidden");this.icon&&this.icon.removeClass(e.ROTATE);
this.expandedText&&this.expandedText.addClass(e.AOK_HIDDEN);this.collapsedText&&this.collapsedText.removeClass(e.AOK_HIDDEN);this.imageThumbnail.removeClass(e.AOK_HIDDEN);this.isExpanded=!1;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!1);this.autoNotificationExpanded.addClass(e.AOK_HIDDEN);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:
"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToExpand:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(n.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}},setUserInteracting:function(a){this.toggleSwatch&&this.toggleSwatch.setUserInteracting(a)},setExpanderHeaderAriaLabel:function(a,b){a=this.expanderHeader.attr("aria-label").replace(a.subText,b.subText);this.expanderHeader.attr("aria-label",
a);this.expanderHeader.find(n.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)},setThumbnailImage:function(a){(a=k.getThumbnailImageUrlForPhysicalId(a))&&this.imageThumbnail.attr("src",a)},setAutoUpdated:function(a){this.markAutoUpdated=a;this.toggleSwatch&&this.toggleSwatch.setAutoUpdated(a)},getInitialVisibleSwatchList:function(){return this.toggleSwatch?this.toggleSwatch.getInitialVisibleSwatchList():{}},getSwatch:function(a){return this.toggleSwatch?this.toggleSwatch.getSwatch(a):{}},activatePageRefresh:function(){this.toggleSwatch&&
this.toggleSwatch.activatePageRefresh()},showInlineExpansionLink:function(){this.inlineExpansionLink.removeClass("aok-hidden")},hideInlineExpansionLink:function(){this.inlineExpansionLink.addClass("aok-hidden")},showSideSheetLink:function(){this.sideSheetLink.removeClass("aok-hidden")},hideSideSheetLink:function(){this.sideSheetLink.addClass("aok-hidden")},setMaxHeight:function(a){this.expanderContent.css("max-height",a)},triggerExpandOrCollapseAnimation:function(a,b,c){var d=this;this.expanderContent.animate({"max-height":a+
"px"},b,function(){d.setMaxHeight("");c&&c()})},getDisplaySwatches:function(){return this.toggleSwatch?this.toggleSwatch.displaySwatches:[]},createDisplaySwatches:function(){this.toggleSwatch&&this.toggleSwatch.createDisplaySwatches()},adjustSwatchWidthAndSpacing:function(){this.toggleSwatch&&this.toggleSwatch.adjustSwatchWidthAndSpacing()},hideAutoNotification:function(){this.autoNotificationExpanded.addClass(e.AOK_HIDDEN)},initializeComponents:function(a,e,f){if(!this.toggleSwatch&&a){var d=this.title.getData();
this.toggleSwatch=new b(a,{windowResizeCallback:f.handleWindowResize,autoNotificationCallback:this.autoNotificationCallback},this.domNode,d.mainText)}this.isTextSwatch=a?a.isTextSwatch:!0;this.rowCallbacks=c.extend(this.rowCallbacks,f);this.totalSwatchCount=a?a.totalSwatchCount:0;this.showSlot=e;var k=this;c.declarative("open-desktop-configurator-side-sheet:"+this.dimKey,"click",function(){"function"===typeof k.rowCallbacks.showSideSheet&&k.isTwisterCoreInitialized&&(k.rowCallbacks.showSideSheet(k.dimKey,
k.showSlot,k.title.getData()),k.hideAutoNotification())});c.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:expand",function(){"function"===typeof k.rowCallbacks.toggleInlineExpansion&&(k.rowCallbacks.toggleInlineExpansion(k.dimKey,k.showSlot,!0),k.hideAutoNotification(),k.isInlineExpanded=!0)});c.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:collapse",function(){"function"===typeof k.rowCallbacks.toggleInlineExpansion&&(k.rowCallbacks.toggleInlineExpansion(k.dimKey,
k.showSlot,!1),k.hideAutoNotification(),k.isInlineExpanded=!1)})},postInitialize:function(){this.isTwisterCoreInitialized=!0;var a={dimKey:this.dimKey};this.toggleSwatch&&this.toggleSwatch.removeInitiallyHiddenSwatches();this.isExpanded&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0)},handleSeeMoreIngress:function(a){var b=(this.toggleSwatch?this.toggleSwatch.getNumberOfSwatchesPerRow():0)*m.MAX_INLINE_ROWS;a<this.totalSwatchCount&&b>=this.totalSwatchCount&&(this.hideSideSheetLink(),
this.showInlineExpansionLink())}};return a}(x,v,k);return{Swatch:y,ToggleSwatch:k,Title:v,Row:B,utils:x}});"use strict";A.when("A","detail-page-side-sheet-handlers").register("detail-page-side-sheet",function(c,m){function q(c){var p=c.id&&"string"===typeof c.id,n=1===x("#"+c.id).length;if(p&&n)this.id=c.id,this.shouldRenderHTMLString=!!c.shouldRenderHTMLString,this.animationDuration=c.animationDuration||300,this.container=m.getContainer(c.id),this.onBeforeShow=c.onBeforeShow,this.onAfterHide=c.onAfterHide,
p=c.width||580,(n=this.container)&&n.width(p),w(c.id,p),e.call(this);else throw c="Side sheet initialisation failed: "+(p?"Side sheet not present in DOM, or multiple instances of side sheet ID "+c.id+" exist":"Invalid Side sheet ID"),A.log(c,"ERROR","DetailPageSideSheet"),c;}function n(c){var e=this.container;c=this.shouldRenderHTMLString?x(c):x(c).clone();e.html(c);c.css("display","block");e.removeClass("aok-hidden")}function e(){var e=this;c.declarative("close-detail-page-side-sheet:"+this.id,"click",
function(){e.close()});c.declarative("open-detail-page-side-sheet:"+this.id,"click",function(c){e.open(c&&c.data?c.data.content:null)})}function p(c){c.code&&"escape"===c.code.toLowerCase()&&(this.close(),document&&document.removeEventListener("keydown",y))}function w(c,e){c=x("#"+c+"-background .close-button");c.length&&(c[0].style.marginRight=e+10+"px")}var x=c.$,y=null;q.prototype={open:function(c){if(c&&"string"===typeof c){n.call(this,c);if(this.onBeforeShow)this.onBeforeShow();m.showSideSheet(this.id,
this.animationDuration);y=p.bind(this);document&&document.addEventListener("keydown",y)}else A.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")},close:function(){m.closeSideSheet(this.id,this.animationDuration);m.resetSideSheetContainer(this.container);if(this.onAfterHide)this.onAfterHide()},updateWidth:function(c){var e=this.container;e&&e.width(c);w(this.id,c)},updateContent:function(c){c&&"string"===typeof c?n.call(this,c):A.log("Invalid side sheet content. Side sheet ID: "+
this.id,"ERROR","DetailPageSideSheet")}};return q});"use strict";A.when("A").register("detail-page-side-sheet-handlers",function(c){function m(c,m){e("#"+c+" .detail-page-side-sheet-content").show(function(){n({right:"0px"},c,m)})}function q(c,m){e("#"+c+" .detail-page-side-sheet-content").show(function(){n({right:"-600px"},c,m)})}function n(m,n,q){c.animate(e("#"+n+" .detail-page-side-sheet-content"),m,q)}var e=c.$;return{showSideSheet:function(c,n){e("body").css("overflow","hidden");e(".detail-page-side-sheet-darken-bg").removeClass("aok-hidden");
e("#"+c).removeClass("aok-hidden");m(c,n)},closeSideSheet:function(c,m){q(c,m);e(".detail-page-side-sheet-darken-bg").addClass("aok-hidden");e("#"+c).addClass("aok-hidden");e("body").css("overflow","scroll")},getContainer:function(c){return e("#"+c).find(".detail-page-side-sheet-content")},resetSideSheetContainer:function(c){c.html("")}}})});