(function(b){var d=window.AmazonUIPageJS||window.P,h=d._namespace||d.attributeErrors,f=h?h("DramAssets",""):d;f.guardFatal?f.guardFatal(b)(f,window):f.execute(function(){b(f,window)})})(function(b,d,h){b.when("jQuery","A").execute("dram-lazy-load",function(f,e){var m=d.ue&&d.ue.count||function(){},k=function(c){m(c,(m(c)||0)+1)},l=function(c,g){if(!c.hasAttribute("lazy-load-status")){g=null==g?"None":g;c.setAttribute("lazy-load-status","initiated");var d=c.querySelector(".json-content").innerText.trim();
e.post("/dram/renderLazyLoaded",{params:d,accepts:"application/json",contentType:"application/json",paramsFormat:"json",success:function(a){var b="";a&&a.cards&&0<a.cards.length&&a.cards[0].content&&(b=a.cards[0].content);f(c.querySelector(".widget-html-container")).html(b);e.trigger("a:pageUpdate");c.setAttribute("lazy-load-status","loaded");k("dram:lazy-loader:"+g+":success")},error:function(a){f(c.querySelector(".widget-html-container")).html("");c.setAttribute("lazy-load-status","failed");0===
a.readyState?(k("dram:lazy-loader:"+g+":warn"),b.log("Warning while processing lazy loading due to "+a.responseText,"WARN","LazyLoading")):(k("dram:lazy-loader:"+g+":error"),b.log("Error while processing lazy loading due to "+a.responseText,"ERROR","LazyLoading"))}})}};e.on("dram:register-lazy-load-widget",function(c,b,d){var a=document.querySelector(c);e.on(e.constants.BROWSER_EVENTS.SCROLL,function(){e.onScreen(a,b)&&l(a,d)});e.on(e.constants.BROWSER_EVENTS.RESIZE,function(){e.onScreen(a,b)&&l(a,
d)});e.on(e.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,function(){e.onScreen(a,b)&&l(a,d)})});b.now("dram-lazy-load-widget").execute("dram-initalize-lazy-load",function(c){c===h&&b.declare("dram-lazy-load-widget",{lazyLoadInitiated:!0})})})});